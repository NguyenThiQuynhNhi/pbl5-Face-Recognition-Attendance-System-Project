<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Danh Sách Cầu Thủ</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="#">Football Dashboard</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="index.html">Trang Chủ</a></li>
                    <li class="nav-item"><a class="nav-link active" href="players.html">Danh Sách Cầu Thủ</a></li>
                    <li class="nav-item"><a class="nav-link" href="attendance.html">Lịch Chấm Công</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container mt-4">
        <h2>Danh Sách Cầu Thủ</h2>
        <button class="btn btn-primary mb-3" data-bs-toggle="modal" data-bs-target="#playerModal" onclick="resetForm()">Thêm Cầu Thủ</button>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Tên</th>
                    <th>Vị trí</th>
                    <th>Đội</th>
                    <th>Hành động</th>
                </tr>
            </thead>
            <tbody id="playerList">
            </tbody>
        </table>
    </div>

    <div class="modal fade" id="playerModal" tabindex="-1" aria-labelledby="playerModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="playerModalLabel">Thêm Cầu Thủ</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="playerForm">
                        <input type="hidden" id="playerIndex">
                        <div class="mb-3">
                            <label class="form-label">Tên Cầu Thủ</label>
                            <input type="text" class="form-control" id="playerName" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Vị trí</label>
                            <input type="text" class="form-control" id="playerPosition" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Đội</label>
                            <input type="text" class="form-control" id="playerTeam" required>
                        </div>
                        <button type="submit" class="btn btn-success">Lưu</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script>
        let players = [
            { name: "Nguyễn Văn A", position: "Tiền đạo", team: "Team A" },
            { name: "Trần Văn B", position: "Hậu vệ", team: "Team B" },
            { name: "Đỗ Văn C", position: "Thủ môn", team: "Team C" }
        ];

        function renderPlayers() {
            let tableBody = document.getElementById("playerList");
            tableBody.innerHTML = "";
            players.forEach((player, index) => {
                let row = `<tr>
                    <td>${index + 1}</td>
                    <td>${player.name}</td>
                    <td>${player.position}</td>
                    <td>${player.team}</td>
                    <td>
                        <button class="btn btn-warning btn-sm" onclick="editPlayer(${index})">Sửa</button>
                        <button class="btn btn-danger btn-sm" onclick="deletePlayer(${index})">Xóa</button>
                    </td>
                </tr>`;
                tableBody.innerHTML += row;
            });
        }

        function resetForm() {
            document.getElementById("playerForm").reset();
            document.getElementById("playerIndex").value = "";
            document.getElementById("playerModalLabel").innerText = "Thêm Cầu Thủ";
        }

        function editPlayer(index) {
            let player = players[index];
            document.getElementById("playerIndex").value = index;
            document.getElementById("playerName").value = player.name;
            document.getElementById("playerPosition").value = player.position;
            document.getElementById("playerTeam").value = player.team;
            document.getElementById("playerModalLabel").innerText = "Chỉnh Sửa Cầu Thủ";
            new bootstrap.Modal(document.getElementById("playerModal")).show();
        }

        function deletePlayer(index) {
            if (confirm("Bạn có chắc muốn xóa cầu thủ này?")) {
                players.splice(index, 1);
                renderPlayers();
            }
        }

        document.getElementById("playerForm").addEventListener("submit", function(event) {
            event.preventDefault();
            let index = document.getElementById("playerIndex").value;
            let name = document.getElementById("playerName").value;
            let position = document.getElementById("playerPosition").value;
            let team = document.getElementById("playerTeam").value;

            if (index) {
                players[index] = { name, position, team };
            } else {
                players.push({ name, position, team });
            }

            renderPlayers();
            new bootstrap.Modal(document.getElementById("playerModal")).hide();
        });

        document.addEventListener("DOMContentLoaded", renderPlayers);
    </script>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
